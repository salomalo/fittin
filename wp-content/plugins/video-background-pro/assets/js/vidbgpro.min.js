/**
 * Video Background Pro
 * Copyright 2016 Blake Wilson and Push Labs
 * @license Push Labs Standard license
 * @link http://pushlabs.co/video-background-pro
 * @preserve
 */
!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):e.jQuery)}(this,function($){"use strict";function e(e){var t={},o,i,n,a,s,r,d;for(s=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(","),d=0,r=s.length;r>d&&(i=s[d],-1===i.search(/^(http|https|ftp):\/\//)&&-1!==i.search(":"));d++)o=i.indexOf(":"),n=i.substring(0,o),a=i.substring(o+1),a||(a=void 0),"string"==typeof a&&(a="true"===a||("false"===a?!1:a)),"string"==typeof a&&(a=isNaN(a)?a:+a),t[n]=a;return null==n&&null==a?e:t}function t(e){e=""+e;var t=e.split(/\s+/),o="50%",i="50%",n,a,s;for(s=0,n=t.length;n>s;s++)a=t[s],"left"===a?o="0%":"right"===a?o="100%":"top"===a?i="0%":"bottom"===a?i="100%":"center"===a?0===s?o="50%":i="50%":0===s?o=a:i=a;return{x:o,y:i}}function o(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,o,i){return t+t+o+o+i+i});var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null}function i(){return!!($(window).width()<1e3||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))}function n(t,o,i){this.$element=$(t),"string"==typeof o&&(o=e(o)),i?"string"==typeof i&&(i=e(i)):i={},this.settings=$.extend({},s,i),this.path=o;try{this.init()}catch(n){if(n.message!==r)throw n}}var a="vidbg",s={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",overlay:!1,overlayColor:"#000",overlayAlpha:.3,overlayTexture:"",isFrontendPlay:!1,isFrontendMute:!1,frontendPosition:"bottom-right",resizing:!0},r="Not implemented";n.prototype.init=function(){var e=this,n=e.path,a=n,s="",d=e.$element,l=e.settings,c=t(l.position),u,p,g,v,b,f,y,h,m,k;g=e.$wrapper=$('<div class="vidbg-container">').css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":c.x+" "+c.y}),"object"==typeof n&&(n.poster?a=n.poster:n.mp4?a=n.mp4:n.webm&&(a=n.webm)),i()===!0?g.css("background-image","url("+a+")"):n.mp4||n.webm?setTimeout(function(){null===g.css("background-image")&&g.css("background-image","url("+a+")")},1250):g.css("background-image","url("+a+")"),"static"===d.css("position")&&d.css("position","relative"),d.css("z-index","1"),d.is("body")&&g.css({position:"fixed"}),d.prepend(g),"object"==typeof n?(n.mp4&&(s+='<source src="'+n.mp4+'" type="video/mp4">'),n.webm&&(s+='<source src="'+n.webm+'" type="video/webm">'),u=e.$video=$("<video>"+s+"</video>")):u=e.$video=$('<video><source src="'+n+'" type="video/mp4"><source src="'+n+'" type="video/webm"></video>');try{u.prop({autoplay:l.autoplay,loop:l.loop,volume:l.volume,muted:l.muted,defaultMuted:l.muted,playbackRate:l.playbackRate,defaultPlaybackRate:l.playbackRate})}catch(w){throw new Error(r)}u.css({margin:"auto",position:"absolute","z-index":-1,top:c.y,left:c.x,"-webkit-transform":"translate(-"+c.x+", -"+c.y+")","-ms-transform":"translate(-"+c.x+", -"+c.y+")","-moz-transform":"translate(-"+c.x+", -"+c.y+")",transform:"translate(-"+c.x+", -"+c.y+")","max-width":"none",visibility:"hidden",opacity:0}).one("canplaythrough.vidbg",function(){e.resize()}).one("playing.vidbg",function(){u.css({visibility:"visible",opacity:1}),f.css("opacity",1),g.css("background-image","none")}),d.on("resize.vidbg",function(){l.resizing&&e.resize()}),g.append(u),v=e.$overlay=$('<div class="vidbg-overlay">').css({position:"absolute",top:0,left:0,right:0,bottom:0}),l.overlay===!0&&v.css({background:"rgba("+o(l.overlayColor).r+", "+o(l.overlayColor).g+", "+o(l.overlayColor).b+", "+l.overlayAlpha+")"}),g.append(v),b=e.$overlayTexture=$(".vidbg-overlay"),""!==l.overlayTexture&&l.overlay===!0&&d.find(b).css({background:"url("+l.overlayTexture+")"}),l.isFrontendPlay!==!0&&l.isFrontendMute!==!0||d.append('<ul class="vidbg-frontend-buttons"></ul>'),f=e.$frontendButtonsEl=d.find(".vidbg-frontend-buttons");var P=d.find("video");if($.inArray(l.frontendPosition,["top-right","bottom-right","bottom-left","top-left"])>=0&&f.addClass(l.frontendPosition),l.isFrontendPlay&&(f.append('<li class="vidbg-frontend-button vidbg-play-button"><a class="vidbg-toggle-pause"></a></li>'),h=e.$frontendButtonPlayAnchor=d.find(".vidbg-play-button > a"),y=e.$frontendButtonPlay=d.find(".vidbg-play-button").click(function(){P.get(0).paused===!1?(P.get(0).pause(),h.removeClass("vidbg-toggle-pause"),h.addClass("vidbg-toggle-play")):(P.get(0).play(),h.removeClass("vidbg-toggle-play"),h.addClass("vidbg-toggle-pause"))}),P.on("ended",function(){h.removeClass("vidbg-toggle-pause"),h.addClass("vidbg-toggle-play")})),l.isFrontendMute){if(l.muted===!1)var C="unmute";else var C="mute";f.append('<li class="vidbg-frontend-button vidbg-mute-button"><a class="vidbg-toggle-'+C+'"></a></li>'),k=e.$frontendButtonMuteAnchor=d.find(".vidbg-mute-button > a"),m=e.$frontendButtonMute=d.find(".vidbg-mute-button").click(function(){P.prop("muted")?(P.prop("muted",!1),k.removeClass("vidbg-toggle-mute"),k.addClass("vidbg-toggle-unmute")):(P.prop("muted",!0),k.removeClass("vidbg-toggle-unmute"),k.addClass("vidbg-toggle-mute"))})}},n.prototype.getVideoObject=function(){return this.$video[0]},n.prototype.resize=function(){if(this.$video){var e=this.$wrapper,t=this.$video,o=t[0],i=o.videoHeight,n=o.videoWidth,a=e.height(),s=e.width();s/n>a/i?t.css({width:s+2,height:"auto"}):t.css({width:"auto",height:a+2})}},n.prototype.destroy=function(){delete $[a].lookup[this.index],this.$video&&this.$video.off(a),this.$element.off(a).removeData(a),this.$wrapper.remove()},$[a]={lookup:[]},$.fn[a]=function(e,t){var o;return this.each(function(){o=$.data(this,a),o&&o.destroy(),o=new n(this,e,t),o.index=$[a].lookup.push(o)-1,$.data(this,a,o)}),this},$(document).ready(function(){var e=$(window);e.on("resize.vidbg",function(){for(var e=$[a].lookup.length,t=0,o;e>t;t++)o=$[a].lookup[t],o&&o.settings.resizing&&o.resize()}),e.on("unload.vidbg",function(){return!1}),$(document).find("[data-vidbg-bg]").each(function(e,t){var o=$(t),i=o.data("vidbg-options"),n=o.data("vidbg-bg");o[a](n,i)})})}),function($){$.vidbgYT=function(e,t){function o(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function i(){return!!($(window).width()<1e3||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))}function n(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=o.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}window.InstanceCollection=window.InstanceCollection||[];var a=this;a.$el=$(e),a.el=e,a.$el.data("vidbgYT",a);var s="yt-"+o();a.init=function(){a.options=$.extend({},$.vidbgYT.defaultOptions,t);var e,o,n,r,d;e=a.$wrapper=$('<div class="vidbg-container">').css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":"50% 50%"}),"static"===a.$el.css("position")&&a.$el.css("position","relative"),a.$el.css("z-index","1"),$(a.$el).prepend(e),a.$el.is("body")&&e.css({position:"fixed"}),o=a.$loadingEl=$('<div class="vidbg-loader">').css({position:"absolute",top:0,left:0,bottom:0,right:0,background:a.options.loaderBgColor}),o.prepend('<div class="sk-fading-circle"><div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div></div>'),e.prepend(o),n=a.$iframeHolder=$('<div class="vidbgYT-video" id="'+s+'">').css({position:"absolute",top:0,left:0,bottom:0,right:0,"z-index":"-1",opacity:0,"max-width":"none","-webkit-transition":"opacity 0.5s ease","-moz-transition":"opacity 0.5s ease",transition:"opacity 0.5s ease"}),e.prepend(n),r=a.$ytOverlay=$('<div class="vidbg-overlay">').css({position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,"-webkit-transition":"opacity 0.5s ease","-moz-transition":"opacity 0.5s ease",transition:"opacity 0.5s ease"}),a.options.overlay===!0&&r.css({background:"rgba("+a.hexToRgb(a.options.overlayColor).r+", "+a.hexToRgb(a.options.overlayColor).g+", "+a.hexToRgb(a.options.overlayColor).b+", "+a.options.overlayAlpha+")"}),e.append(r),d=a.$overlayTexture=$(".vidbg-overlay"),""!==a.options.overlayTexture&&a.options.overlay===!0&&a.$el.find(d).css({background:"url("+a.options.overlayTexture+")"}),i()===!0&&(e.css({"background-image":"url("+a.options.poster+")"}),o.hide(),n.hide(),r.hide()),a.loadAPI()},this.onYouTubePlayerAPIReady=function(){a.$thePlayerId=new YT.Player(s,{events:{onReady:a.onPlayerReady,onStateChange:a.onPlayerStateChange},playerVars:a.playerDefaults}),$(window).on("load resize",function(){a.vidRescale()})},a.loadAPI=function(){var e,t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o),e=a.playerDefaults={autoplay:0,autohide:1,modestbranding:0,rel:0,loop:1,showinfo:0,controls:0,disablekb:0,enablejsapi:0,iv_load_policy:3},window.InstanceCollection.push(this)},a.onPlayerReady=function(){var e=a.$wrapper,t,o,s,r,d;if(a.$thePlayerId.loadVideoById({videoId:n("v",a.options.videoID),suggestedQuality:"hd720"}),a.options.mute!==!0&&i()!==!0||a.$thePlayerId.mute(),a.options.isFrontendPlay!==!0&&a.options.isFrontendMute!==!0||a.$el.append('<ul class="vidbg-frontend-buttons"></ul>'),t=a.$frontendButtonsEl=a.$el.find(".vidbg-frontend-buttons"),a.options.isFrontendPlay===!0&&(t.append('<li class="vidbg-frontend-button vidbg-play-button"><a class="vidbg-toggle-pause"></a></li>'),s=a.$frontendButtonPlayAnchor=a.$el.find(".vidbg-play-button > a"),o=a.$frontendButtonPlay=a.$el.find(".vidbg-play-button").click(function(){1==myPlayerState?(a.$thePlayerId.pauseVideo(),s.removeClass("vidbg-toggle-pause"),s.addClass("vidbg-toggle-play")):(a.$thePlayerId.playVideo(),s.removeClass("vidbg-toggle-play"),s.addClass("vidbg-toggle-pause"))})),a.options.isFrontendMute===!0){if(a.options.mute===!0)var l="mute";else var l="unmute";t.append('<li class="vidbg-frontend-button vidbg-mute-button"><a class="vidbg-toggle-'+l+'"></a></li>'),r=a.$frontendButtonMute=a.$el.find(".vidbg-mute-button").click(function(){d=a.$frontendButtonMuteAnchor=a.$el.find(".vidbg-mute-button > a"),a.$thePlayerId.isMuted()===!0?(a.$thePlayerId.unMute(),d.removeClass("vidbg-toggle-mute"),d.addClass("vidbg-toggle-unmute")):(a.$thePlayerId.mute(),d.removeClass("vidbg-toggle-unmute"),d.addClass("vidbg-toggle-mute"))})}$.inArray(a.options.frontendPosition,["top-right","bottom-right","bottom-left","top-left"])>=0&&t.addClass(a.options.frontendPosition),i()===!0&&t.hide()},a.onPlayerStateChange=function(e){var t=a.$wrapper;1===e.data?(a.$el.find(".vidbg-loader").fadeOut(450,function(){$(this).remove()}),$("#"+s).addClass("active"),$("#"+s).css({opacity:1}),t.find(".vidbg-overlay").css({opacity:1}),a.$el.find(".vidbg-frontend-buttons").css({opacity:1})):0===e.data&&(a.options.repeat===!0?a.$thePlayerId.seekTo(0):(a.$thePlayerId.seekTo(0),a.$thePlayerId.pauseVideo(),$frontendButtonPlayAnchor=a.$frontendButtonPlayAnchor=a.$el.find(".vidbg-play-button > a").removeClass("vidbg-toggle-pause"),$frontendButtonPlayAnchor.addClass("vidbg-toggle-play"))),myPlayerState=e.data},a.hexToRgb=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,o,i){return t+t+o+o+i+i});var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},a.vidRescale=function(){var e=a.$el,t=e.outerWidth(),o,i=e.outerHeight(),n,r=$("#"+s),d=16/9;i>t/d?(o=Math.ceil(i*d),r.outerWidth(o).outerHeight(i).css({left:(t-o)/2,top:0})):(n=Math.ceil(t/d),r.outerWidth(t).outerHeight(n).css({left:0,top:(i-n)/2})),$YTPlayerPlayer=null,e=null},a.init()},$.vidbgYT.defaultOptions={videoID:"#",poster:"#",mute:!0,repeat:!0,overlay:!1,overlayColor:"#000",overlayAlpha:"0.3",overlayTexture:"",isFrontendPlay:!1,isFrontendMute:!1,frontendPosition:"bottom-right",loaderBgColor:"#232323",loaderColor:"#ffffff"},$.fn.vidbgYT=function(e){return this.each(function(){new $.vidbgYT(this,e)})}}(jQuery),jQuery(function($){window.onYouTubePlayerAPIReady=function(){for(var e=0;e<window.InstanceCollection.length;e++)window.InstanceCollection[e].onYouTubePlayerAPIReady()}});